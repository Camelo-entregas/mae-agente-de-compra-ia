
<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Admin - M√£e IA (Completo)</title>
    <style>
        body { font-family: Arial, sans-serif; padding: 2rem; background: #f0f0f0; color: #333; }
        h1 { color: #FF6B6B; }
        label { display: block; margin: 10px 0 5px; }
        input[type="text"] { width: 100%; padding: 10px; margin-bottom: 1rem; border: 1px solid #ccc; border-radius: 5px; }
        button { background: #FF6B6B; color: white; padding: 10px 20px; border: none; border-radius: 5px; font-weight: bold; cursor: pointer; }
        button:hover { background: #d94b4b; }
        .produto-item { background: white; padding: 10px; margin: 10px 0; border-radius: 5px; box-shadow: 0 2px 5px rgba(0,0,0,0.1); }
        .produto-item img { width: 100px; height: 100px; object-fit: cover; border-radius: 5px; margin-right: 10px; }
        .produto-info { display: flex; align-items: center; justify-content: space-between; flex-wrap: wrap; }
        .produto-info div { margin: 5px; flex: 1; min-width: 200px; }
        .btn-group { display: flex; gap: 10px; flex-wrap: wrap; }
    </style>
</head>
<body>
    <h1>Administra√ß√£o de Produtos ‚Äì M√£e IA</h1>

    <label for="nome">Nome do Produto</label>
    <input type="text" id="nome">

    <label for="preco">Pre√ßo</label>
    <input type="text" id="preco">

    <label for="link">Link de Compra</label>
    <input type="text" id="link">

    <label for="imagem">URL da Imagem</label>
    <input type="text" id="imagem">

    <label><input type="checkbox" id="destaque"> Produto em Destaque?</label>

    <button onclick="adicionarProduto()">Adicionar Produto</button>
    <button onclick="inserirExemplo()">Inserir Exemplo</button>

    <h2>Produtos Cadastrados</h2>
    <div id="lista-produtos"></div>

    <script>
        let editIndex = -1;

        function carregarProdutos() {
            const lista = document.getElementById('lista-produtos');
            lista.innerHTML = '';
            const produtos = JSON.parse(localStorage.getItem('produtosMaeIA') || '[]');
            const destaque = JSON.parse(localStorage.getItem('destaquePrincipalMaeIA') || '{}');

            produtos.forEach((produto, index) => {
                const div = document.createElement('div');
                div.className = 'produto-item';
                div.innerHTML = `
                    <div class="produto-info">
                        <img src="${produto.imagem}" onerror="this.src='https://via.placeholder.com/100x100?text=Erro'">
                        <div><strong>${produto.nome}</strong><br>R$ ${produto.preco}</div>
                        <div><a href="${produto.link}" target="_blank">Ver Produto</a></div>
                        <div class="btn-group">
                            <button onclick="editarProduto(${index})">‚úèÔ∏è Editar</button>
                            <button onclick="excluirProduto(${index})">üóëÔ∏è Excluir</button>
                            <button onclick="definirDestaque(${index})">${destaque?.produto?.nome === produto.nome ? '‚≠ê Em Destaque' : 'üîÑ Destacar'}</button>
                        </div>
                    </div>
                `;
                lista.appendChild(div);
            });
        }

        function adicionarProduto() {
            const nome = document.getElementById('nome').value.trim();
            const preco = document.getElementById('preco').value.trim();
            const link = document.getElementById('link').value.trim();
            const imagem = document.getElementById('imagem').value.trim();
            const destaque = document.getElementById('destaque').checked;

            if (!nome || !preco || !link || !imagem) {
                alert('Preencha todos os campos');
                return;
            }

            const produtos = JSON.parse(localStorage.getItem('produtosMaeIA') || '[]');
            const produto = { nome, preco, link, imagem, destaque };

            if (editIndex >= 0) {
                produtos[editIndex] = produto;
                editIndex = -1;
            } else {
                produtos.push(produto);
            }

            localStorage.setItem('produtosMaeIA', JSON.stringify(produtos));

            if (destaque) {
                localStorage.setItem('destaquePrincipalMaeIA', JSON.stringify({ produto }));
            }

            limparFormulario();
            carregarProdutos();
            alert('Produto salvo com sucesso!');
        }

        function editarProduto(index) {
            const produtos = JSON.parse(localStorage.getItem('produtosMaeIA') || '[]');
            const p = produtos[index];
            document.getElementById('nome').value = p.nome;
            document.getElementById('preco').value = p.preco;
            document.getElementById('link').value = p.link;
            document.getElementById('imagem').value = p.imagem;
            document.getElementById('destaque').checked = p.destaque;
            editIndex = index;
        }

        function excluirProduto(index) {
            if (!confirm('Deseja excluir este produto?')) return;
            const produtos = JSON.parse(localStorage.getItem('produtosMaeIA') || '[]');
            produtos.splice(index, 1);
            localStorage.setItem('produtosMaeIA', JSON.stringify(produtos));
            carregarProdutos();
        }

        function definirDestaque(index) {
            const produtos = JSON.parse(localStorage.getItem('produtosMaeIA') || '[]');
            const produto = produtos[index];
            localStorage.setItem('destaquePrincipalMaeIA', JSON.stringify({ produto }));
            carregarProdutos();
        }

        function limparFormulario() {
            document.getElementById('nome').value = '';
            document.getElementById('preco').value = '';
            document.getElementById('link').value = '';
            document.getElementById('imagem').value = '';
            document.getElementById('destaque').checked = false;
        }

        function inserirExemplo() {
            document.getElementById('nome').value = "Bolsa Feminina Estilosa";
            document.getElementById('preco').value = "129,90";
            document.getElementById('link').value = "https://www.exemplo.com/produto/bolsa";
            document.getElementById('imagem').value = "https://i.imgur.com/NnJQ4Y2.jpg";
            document.getElementById('destaque').checked = true;
        }

        carregarProdutos();
    </script>
</body>
</html>
